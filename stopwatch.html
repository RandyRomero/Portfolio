<!DOCTYPE html>
<html lang="en">
<head>
    <title>Stopwatch</title>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
    <link rel='stylesheet' type='text/css' href='css/stopwatch.css'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
</head>
<body>
    <main>
        <h1>00:00:00</h1>
        <button id="start">Start</button>
        <button id="pause">Pause</button>
        <button id="reset">Reset</button>
    </main>
    <script>
        var clock_on_page = document.querySelector('h1');
        var start = document.querySelector('#start');
        var pause = document.querySelector('#pause');
        var reset = document.querySelector('#reset');
        var zero = new Date().setHours(0, 0, 0, 0);
        var time = zero;
        var start_watch;
        var actual_time = new Date();
        var watch_on = false; /* to prevent stating another instance of setInterval */

        function time_formatter(number) {
            /* add leading zero if necessary */
            if (number < 10) {
                return '0' + number;
            }
            return number;
        }

        function print_time() {
            /* update time on page */
            clock_on_page.textContent = (time_formatter(actual_time.getHours()) + ':'
                + time_formatter(actual_time.getMinutes()) + ':' + time_formatter(actual_time.getSeconds()));
        }

        function update_time() {
            /* counter of stopwatch */
            time += 10;
            actual_time = new Date(time);
            print_time();
        }

        function start_stopwatch() {
            /* start stopwatch only if it is switched off */
            if (!watch_on) {
                start_watch = setInterval(update_time, 10);
                watch_on = true;
            }
        }

        function pause_stopwatch() {
            clearInterval(start_watch);
            watch_on = false;
        }

        function reset_stopwatch() {
            clearInterval(start_watch);
            watch_on = false;
            time = zero;
            actual_time = new Date(time);
            print_time();
        }

        start.addEventListener('click', start_stopwatch);
        pause.addEventListener('click', pause_stopwatch);
        reset.addEventListener('click', reset_stopwatch);

    </script>
</body>
</html>